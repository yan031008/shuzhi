{"version":3,"file":"index-C6ibwiCl.js","sources":["../../src/request/checkIn/index.ts","../../src/views/checkIn/index.vue"],"sourcesContent":["import request from '@/request/index'\nexport async function checkInBefore(url: string, method: string) {\n  return await request(url, method)\n}\n\nexport async function checkInProgress(url: string, method: string) {\n  return await request(url, method)\n}\n\nexport async function checkInEnd(url: string, method: string) {\n  return await request(url, method)\n}\n","<template>\n  <div class=\"flex flex-col h-screen w-full\">\n\n    <Head title=\"打卡列表\"></Head>\n    <main class=\"bg-gray-200 flex-1 flex flex-col\">\n      <div class=\"navList flex h-3.5 bg-white lg:h-auto\">\n        <div class=\"box px-3 relative flex items-center\" v-for=\"value in navList\" :key=\"value.id\"\n          @click=\"activateChange(value.id)\">\n          <span :class=\"{ 'text-green-500': activateIndex == value.id }\"\n            class=\"lg:py-[10px] text-[0.25rem] lg:text-[20px]\">{{ value.title\n            }}</span>\n          <div :class=\"{ 'hidden': activateIndex !== value.id }\"\n            class=\"border-2 w-2 border-green-500 absolute bottom-0 left-[calc(50%-0.25rem)]\"></div>\n        </div>\n      </div>\n\n      <div class=\"card p-1 bg-white rounded-sm h-4 m-2 flex justify-between\">\n        <div class=\"flex items-center\">\n          <van-icon name=\"warning-o\" size=\"0.5rem\" class=\"mr-1\" />\n          <span class=\"text-[0.2rem]\">没有收到老师的打卡？</span>\n        </div>\n        <div class=\"flex items-center\" @click=\"load\">\n          <van-icon name=\"replay\" size=\"0.5rem\" color=\"green\" class=\"mr-1\" />\n          <span class=\"text-[0.2rem] text-green-500\">点击刷新</span>\n        </div>\n      </div>\n\n      <div v-if=\"checkIn.length == 0\" class=\"flex-1 justify-center items-center flex flex-col text-gray-500\">\n        <Image src=\"/public/image/空盒子.png\" />\n        <span class=\"text-[12px]\">暂无进行中的打卡</span>\n      </div>\n      <div v-else>\n        <van-cell-group inset>\n          <van-cell v-for=\"value in checkIn\" :key=\"value.id\" :title=\"value.title\" :value=\"value.status\"\n            :label=\"`${value.start}~${value.end}`\"></van-cell>\n        </van-cell-group>\n      </div>\n      <van-overlay :show=\"show\" @click=\"show = false\">\n        <div class=\"wrapper\" @click.stop>\n          <div class=\"w-[3rem] h-[3rem]  rounded bg-white flex justify-center items-center\">\n            <van-loading size=\"2rem\" type=\"spinner\" color=\"#1989fa\" />\n          </div>\n        </div>\n      </van-overlay>\n    </main>\n  </div>\n</template>\n<script setup lang='ts'>\nimport Head from '@/components/head.vue';\nimport Image from '@/components/image.vue';\nimport { checkInEnd as CheckInEnd, checkInBefore as CheckInBefore, checkInProgress as CheckInProgress } from '@/request/checkIn/index'\nimport type { AxiosResponse } from 'axios';\ninterface navItem {\n  title: string,\n  id: number\n}\nconst show = ref<boolean>(false)\nconst navList = ref<Array<navItem>>([\n  {\n    title: '未开始',\n    id: 1\n  },\n  {\n    title: '进行中',\n    id: 2\n  }, {\n    title: '已结束',\n    id: 3\n  },\n])\ninterface checkType {\n  id: number,\n  title: string,\n  start: string,\n  end: string,\n  status: string,\n}\nconst checkIn = ref<Array<checkType>>([])\nconst checkInBefore = ref<Array<any>>([])\nconst checkInProgress = ref<Array<any>>([])\nconst checkInEnd = ref<Array<any>>([])\nconst getCheckIn = async () => {\n  await CheckInBefore('/api/checkInBefore', 'get').then((value: AxiosResponse) => {\n    if (value.status == 200) {\n      checkInBefore.value = value.data.data\n    }\n  })\n  await CheckInProgress('/api/checkInProgress', 'get').then((value: AxiosResponse) => {\n    if (value.status == 200) {\n      checkInProgress.value = value.data.data\n    }\n  })\n  await CheckInEnd('/api/checkInEnd', 'get').then((value: AxiosResponse) => {\n    if (value.status == 200) {\n      checkInEnd.value = value.data.data\n    }\n  })\n}\nonMounted(async () => {\n  await getCheckIn()\n  checkIn.value = checkInBefore.value//初始化\n})\nconst activateIndex = ref<number>(1)\nwatch(activateIndex, (newVal) => {\n  if (newVal == 1) {\n    checkIn.value = checkInBefore.value\n  }\n  else if (newVal == 2) {\n    checkIn.value = checkInProgress.value\n  }\n  else {\n    checkIn.value = checkInEnd.value\n  }\n})\nconst activateChange = (id: number) => {\n  activateIndex.value = id\n}\nconst load = async () => {\n  show.value = true\n  await getCheckIn()\n  show.value = false\n}\n\n</script>\n<style scoped lang=''>\n\n</style>\n<style>\n.wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n}\n</style>\n"],"names":["checkInBefore","url","method","request","checkInProgress","checkInEnd","show","ref","navList","checkIn","getCheckIn","CheckInBefore","value","CheckInProgress","CheckInEnd","onMounted","activateIndex","watch","newVal","activateChange","id","load","_openBlock","_createElementBlock","_hoisted_1","_createVNode","Head","_createElementVNode","_hoisted_2","_hoisted_3","_Fragment","_renderList","_unref","$event","_toDisplayString","_hoisted_5","_hoisted_6","_component_van_icon","_cache","_hoisted_7","Image","_hoisted_8","_component_van_cell_group","_createBlock","_component_van_cell","_component_van_overlay","_hoisted_9","_component_van_loading"],"mappings":"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"}