import{I as U}from"./index-3Tn0YI1E.js";import{C as X}from"./index-DKSGXUCS.js";import"./index-C_fD4wbP.js";import{P as Y,a as E,b as L}from"./index-BQvUf0Ms.js";import"./index-D7SJ0IGF.js";import{B as W}from"./index-CK8mZ5uH.js";import{F as H}from"./index-Brz45BjW.js";import{C as J}from"./index-EInch2eB.js";import{_ as M}from"./userCard.vue_vue_type_script_setup_true_lang-BLwivrCS.js";import{_ as q}from"./image.vue_vue_type_script_setup_true_lang-CPNIJuN8.js";import{d as A,r as n,i as G,c as u,a as s,b as t,F as k,j as h,w as d,n as y,u as C,e as K,o as r,k as j,t as $,l as O}from"./index-CHKKS0LY.js";/* empty css              */import"./index-KltST6iZ.js";import"./use-route-LZ-uKq9f.js";import"./use-id-B_RMOvPn.js";import"./on-popup-reopen-B_pC-AtY.js";import"./use-scope-id-BZYDCQ3z.js";const Q={class:"w-full h-screen bg-linear-to-b from-[#6dd5fa] to-[#ffffff] overflow-auto"},Z={class:"text-[12px] bg-white rounded-sm p-1 m-1 flex justify-between"},ee=["onClick"],te={class:"bg-white p-1 m-1 rounded"},oe={class:"text-[12px] border-b p-1 border-gray-300 flex justify-between items-center"},se={class:"p-0.5 rounded-[10px] border border-green-500 inline-block"},ne={class:"box text-[12px] m-1"},le={class:"flex items-center w-full"},ae={class:"flex-1 flex justify-end"},ie={class:"flex justify-end items-center"},re={class:"w-full truncate"},ze=A({__name:"index",setup(ce){const c=n(!1),i=n(""),x=K(),g=n(""),p=n("good-job-o"),z=n(),f=n(0),v=n(0);G(()=>{const a=document.documentElement.clientWidth;f.value=`calc(${a}px - ${7/4}rem)`,v.value=`calc(80% - ${7/4}rem)`});const b=n(0),V=a=>{b.value&&clearTimeout(b.value),a.preventDefault(),b.value=setTimeout(()=>{const e=a.touches[0];e.clientX<0||e.clientX>window.innerWidth-100||e.clientY<0||e.clientY>window.innerHeight-100||(f.value=e.clientX,v.value=e.clientY+"px")},10)},T=()=>{c.value=!0},B=a=>{i.value=a},m=n(""),w=n([]),F=()=>{try{navigator.clipboard.writeText("这是最好的世界，也是最坏的世界").then(()=>{E("复制成功")})}catch{L("复制失败")}},I=n([{title:"班级相册",icon:"card",path:"/classPhoto"},{title:"课程表",icon:"printer",path:"/timeTable"},{title:"话题广场",icon:"comment",path:"/topic"},{title:"食谱",icon:"new",path:"/topicDetail"}]);return(a,e)=>{const l=U,D=J,S=H,N=W,P=Y,R=X;return r(),u("div",Q,[s(M),t("div",Z,[(r(!0),u(k,null,h(I.value,o=>(r(),u("div",{class:"flex flex-col items-center",key:o.title,onClick:_=>C(x).push({path:o.path})},[s(l,{size:"0.7rem",class:"mb-1",name:o.icon},null,8,["name"]),t("span",null,$(o.title),1)],8,ee))),128))]),t("div",te,[t("div",oe,[e[10]||(e[10]=t("h1",{class:"font-black text-[16px]"},"班级圈",-1)),s(D,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=o=>g.value=o)},{default:d(()=>[...e[8]||(e[8]=[j("仅看老师",-1)])]),_:1},8,["modelValue"]),t("div",se,[s(l,{name:"search",size:"0.5rem",class:"align-middle",color:"green"}),e[9]||(e[9]=t("span",{class:"text-green-500 align-middle"},"搜索",-1))])]),t("div",ne,[t("div",le,[s(l,{name:"user",class:"mr-1",size:"1rem",color:"green"}),e[11]||(e[11]=t("div",{class:"flex flex-col"},[t("span",{class:"font-black mb-1"},"李军晓"),t("span",{class:"text-gray-500"},"9月12日 10:00")],-1)),t("div",ae,[s(l,{name:"ellipsis",size:"0.5rem"})])]),e[13]||(e[13]=t("div",{class:"my-1"}," 新型布置作业的方式 ",-1)),t("div",null,[s(q,{onClick:e[1]||(e[1]=o=>B("/public/image/黑板.jpg")),src:"/public/image/黑板.jpg",class:"rounded"})]),t("div",ie,[s(l,{onClick:F,class:"ml-1",name:"share-o",size:"0.5rem"}),s(l,{class:"ml-1",name:p.value,onClick:e[2]||(e[2]=o=>p.value=p.value=="good-job-o"?"good-job":"good-job-o"),size:"0.5rem"},null,8,["name"]),s(l,{onClick:T,class:"ml-1",name:"comment-o",size:"0.5rem"}),s(P,{position:"bottom",show:c.value,"onUpdate:show":e[5]||(e[5]=o=>c.value=o),style:{padding:"10px",backgroundColor:"#eeeeee"},class:"flex justify-center items-center"},{default:d(()=>[s(S,{class:"w-[70%]!",modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=o=>m.value=o),label:"评论",placeholder:"请输入评论内容"},null,8,["modelValue"]),s(N,{onClick:e[4]||(e[4]=()=>{c.value=!1,w.value.push({comment:m.value,time:new Date().toLocaleString(),user:"匿名用户"}),m.value=""})},{default:d(()=>[...e[12]||(e[12]=[j("发表",-1)])]),_:1})]),_:1},8,["show"])]),t("div",null,[(r(!0),u(k,null,h(w.value,(o,_)=>(r(),O(R,{key:_,class:"truncate flex-col"},{title:d(()=>[t("div",re,$(`${o.user}: ${o.comment}`),1)]),_:2},1024))),128))]),e[14]||(e[14]=t("div",{class:"text-center"},[t("span",null,"已经到底了")],-1))])]),t("div",{onClick:e[6]||(e[6]=o=>C(x).push({path:"/publish"})),onTouchmove:V,ref_key:"navRef",ref:z,style:y({left:f.value+"px",top:v.value}),class:"fixed z-4 flex-col flex justify-center items-center w-7 h-7 rounded-full! bg-green-400 shadow-lg shadow-cyan-500"},[s(l,{name:"guide-o",size:"0.7rem",color:"white"}),e[15]||(e[15]=t("span",{class:"text-[12px] text-white"},"发动态",-1))],36),t("div",{onClick:e[7]||(e[7]=o=>i.value=""),class:"fixed top-0 z-[-1] left-0 h-screen w-screen bg-fixed bg-center bg-no-repeat bg-contain",style:y({backgroundImage:i.value?`url(${i.value})`:"url('')",zIndex:i.value?1:-1,backgroundColor:i.value?"black":"transparent"})},null,4)])}}});export{ze as default};
//# sourceMappingURL=index-B8xFCYyO.js.map
