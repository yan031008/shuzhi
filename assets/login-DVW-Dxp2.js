const s=[{url:"/api/login",method:"post",rawResponse:async(t,e)=>{let a="";await new Promise(o=>{t.on("data",n=>{a+=n}),t.on("end",()=>{o(a)})});try{a=JSON.parse(a),console.log(a.username,a.password),a.username=="admin"&&a.password=="admin"?(console.log(a.username),e.setHeader("set-cookie","token=admin;max-age=3600;path=/;secure;sameSite=strict,"),e.statusCode=200,e.end()):(e.statusCode=401,e.setHeader("content-type","application/json"),e.end(JSON.stringify({code:401,message:"用户名或密码错误"})))}catch{e.statusCode=400,e.setHeader("content-type","application/json"),e.end(JSON.stringify({code:400,message:"请求数据格式错误"}))}}}];export{s as default};
//# sourceMappingURL=login-DVW-Dxp2.js.map
