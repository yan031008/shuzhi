import{F as $,n as x,m as w,c as G,u as F,G as y,g as S,f as _,t as B,H as R,I as A,k as C,x as H,E as K,w as N}from"./index-CWALDLmE.js";import{u as z}from"./use-id-DH7gUs_x.js";import{d as P,p as O,a as b,r as U,y as v,x as j}from"./index-C-Ah_xeN.js";const[D,q]=G("checkbox-group"),L={max:x,shape:w("round"),disabled:Boolean,iconSize:x,direction:String,modelValue:$(),checkedColor:String},E=Symbol(D);var p=P({name:D,props:L,emits:["change","update:modelValue"],setup(e,{emit:i,slots:r}){const{children:o,linkChildren:t}=F(E),l=a=>i("update:modelValue",a),m=(a={})=>{typeof a=="boolean"&&(a={checked:a});const{checked:d,skipDisabled:h}=a,c=o.filter(n=>n.props.bindGroup?n.props.disabled&&h?n.checked.value:d??!n.checked.value:!1).map(n=>n.name);l(c)};return O(()=>e.modelValue,a=>i("change",a)),z({toggleAll:m}),y(()=>e.modelValue),t({props:e,updateValue:l}),()=>{var a;return b("div",{class:q([e.direction])},[(a=r.default)==null?void 0:a.call(r)])}}});const I={name:S,disabled:Boolean,iconSize:x,modelValue:S,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var T=P({props:_({},I,{bem:R(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:B,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:i,slots:r}){const o=U(),t=n=>{if(e.parent&&e.bindGroup)return e.parent.props[n]},l=v(()=>{if(e.parent&&e.bindGroup){const n=t("disabled")||e.disabled;if(e.role==="checkbox"){const s=t("modelValue").length,u=t("max"),k=u&&s>=+u;return n||k&&!e.checked}return n}return e.disabled}),m=v(()=>t("direction")),a=v(()=>{const n=e.checkedColor||t("checkedColor");if(n&&(e.checked||e.indeterminate)&&!l.value)return{borderColor:n,backgroundColor:n}}),d=v(()=>e.shape||t("shape")||"round"),h=n=>{const{target:s}=n,u=o.value,k=u===s||u?.contains(s);!l.value&&(k||!e.labelDisabled)&&i("toggle"),i("click",n)},f=()=>{var n,s;const{bem:u,checked:k,indeterminate:V}=e,g=e.iconSize||t("iconSize");return b("div",{ref:o,class:u("icon",[d.value,{disabled:l.value,checked:k,indeterminate:V}]),style:d.value!=="dot"?{fontSize:C(g)}:{width:C(g),height:C(g),borderColor:(n=a.value)==null?void 0:n.borderColor}},[r.icon?r.icon({checked:k,disabled:l.value}):d.value!=="dot"?b(A,{name:V?"minus":"success",style:a.value},null):b("div",{class:u("icon--dot__icon"),style:{backgroundColor:(s=a.value)==null?void 0:s.backgroundColor}},null)])},c=()=>{const{checked:n}=e;if(r.default)return b("span",{class:e.bem("label",[e.labelPosition,{disabled:l.value}])},[r.default({checked:n,disabled:l.value})])};return()=>{const n=e.labelPosition==="left"?[c(),f()]:[f(),c()];return b("div",{role:e.role,class:e.bem([{disabled:l.value,"label-disabled":e.labelDisabled},m.value]),tabindex:l.value?void 0:0,"aria-checked":e.checked,onClick:h},[n])}}});const[X,Y]=G("checkbox"),J=_({},I,{shape:String,bindGroup:B,indeterminate:{type:Boolean,default:null}});var M=P({name:X,props:J,emits:["change","update:modelValue"],setup(e,{emit:i,slots:r}){const{parent:o}=H(E),t=a=>{const{name:d}=e,{max:h,modelValue:f}=o.props,c=f.slice();if(a)!(h&&c.length>=+h)&&!c.includes(d)&&(c.push(d),e.bindGroup&&o.updateValue(c));else{const n=c.indexOf(d);n!==-1&&(c.splice(n,1),e.bindGroup&&o.updateValue(c))}},l=v(()=>o&&e.bindGroup?o.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),m=(a=!l.value)=>{o&&e.bindGroup?t(a):i("update:modelValue",a),e.indeterminate!==null&&i("change",a)};return O(()=>e.modelValue,a=>{e.indeterminate===null&&i("change",a)}),z({toggle:m,props:e,checked:l}),y(()=>e.modelValue),()=>b(T,j({bem:Y,role:"checkbox",parent:o,checked:l.value,onToggle:m},e),K(r,["default","icon"]))}});const ee=N(M);export{ee as C,p as s};
//# sourceMappingURL=index-Dt46zdgL.js.map
