import{I as j}from"./index-hqHDuKGZ.js";import{O as E}from"./index-Mlk46bvO.js";import{L as P}from"./index-D_Nrm-mb.js";import{C as F}from"./index-D0H9sX4t.js";import{C as M}from"./index-xhnILFkp.js";import{s as u,d as N,r as o,i as O,p as q,c as d,a as i,b as s,F as g,j as k,u as m,w,o as l,v as y,t as D,l as G,z as S}from"./index-byOhkgXA.js";import{_ as V}from"./head.vue_vue_type_script_setup_true_lang-BdjUofOI.js";import{_ as A}from"./image.vue_vue_type_script_setup_true_lang-Bcu9u3b9.js";import"./use-scope-id-khG0fq1X.js";import"./use-route-DJzPjS3O.js";async function H(r,n){return await u(r,n)}async function J(r,n){return await u(r,n)}async function K(r,n){return await u(r,n)}const Q={class:"flex flex-col h-screen w-full"},R={class:"bg-gray-200 flex-1 flex flex-col"},T={class:"navList flex h-3.5 bg-white lg:h-auto"},U=["onClick"],W={class:"card p-1 bg-white rounded-sm h-4 m-2 flex justify-between"},X={class:"flex items-center"},Y={key:0,class:"flex-1 justify-center items-center flex flex-col text-gray-500"},Z={key:1},ee={class:"w-[3rem] h-[3rem] rounded bg-white flex justify-center items-center"},fe=N({__name:"index",setup(r){const n=o(!1),b=o([{title:"未开始",id:1},{title:"进行中",id:2},{title:"已结束",id:3}]),c=o([]),p=o([]),_=o([]),v=o([]),x=async()=>{await H("/api/checkInBefore","get").then(e=>{e.status==200&&(p.value=e.data.data)}),await J("/api/checkInProgress","get").then(e=>{e.status==200&&(_.value=e.data.data)}),await K("/api/checkInEnd","get").then(e=>{e.status==200&&(v.value=e.data.data)})};O(async()=>{await x(),c.value=p.value});const f=o(1);q(f,e=>{e==1?c.value=p.value:e==2?c.value=_.value:c.value=v.value});const C=e=>{f.value=e},I=async()=>{n.value=!0,await x(),n.value=!1};return(e,a)=>{const h=j,$=M,B=F,z=P,L=E;return l(),d("div",Q,[i(V,{title:"打卡列表"}),s("main",R,[s("div",T,[(l(!0),d(g,null,k(m(b),t=>(l(),d("div",{class:"box px-3 relative flex items-center",key:t.id,onClick:te=>C(t.id)},[s("span",{class:y([{"text-green-500":m(f)==t.id},"lg:py-[10px] text-[0.25rem] lg:text-[20px]"])},D(t.title),3),s("div",{class:y([{hidden:m(f)!==t.id},"border-2 w-2 border-green-500 absolute bottom-0 left-[calc(50%-0.25rem)]"])},null,2)],8,U))),128))]),s("div",W,[s("div",X,[i(h,{name:"warning-o",size:"0.5rem",class:"mr-1"}),a[2]||(a[2]=s("span",{class:"text-[0.2rem]"},"没有收到老师的打卡？",-1))]),s("div",{class:"flex items-center",onClick:I},[i(h,{name:"replay",size:"0.5rem",color:"green",class:"mr-1"}),a[3]||(a[3]=s("span",{class:"text-[0.2rem] text-green-500"},"点击刷新",-1))])]),m(c).length==0?(l(),d("div",Y,[i(A,{src:"/public/image/空盒子.png"}),a[4]||(a[4]=s("span",{class:"text-[12px]"},"暂无进行中的打卡",-1))])):(l(),d("div",Z,[i(B,{inset:""},{default:w(()=>[(l(!0),d(g,null,k(m(c),t=>(l(),G($,{key:t.id,title:t.title,value:t.status,label:`${t.start}~${t.end}`},null,8,["title","value","label"]))),128))]),_:1})])),i(L,{show:m(n),onClick:a[1]||(a[1]=t=>n.value=!1)},{default:w(()=>[s("div",{class:"wrapper",onClick:a[0]||(a[0]=S(()=>{},["stop"]))},[s("div",ee,[i(z,{size:"2rem",type:"spinner",color:"#1989fa"})])])]),_:1},8,["show"])])])}}});export{fe as default};
//# sourceMappingURL=index-vCFQ5yKa.js.map
