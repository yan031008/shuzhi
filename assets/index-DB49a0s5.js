import{I as R}from"./index-D_D45AGk.js";import{C as U}from"./index-BV4Cb7xO.js";import"./index-Cg9P4DiM.js";import{P as X,a as Y,b as E}from"./index-WodMhZLf.js";import"./index-7fZ51QCR.js";import{B as G}from"./index-CaQXREIw.js";import{F as L}from"./index-87hGm5GN.js";import{C as W}from"./index-CB-EYXyy.js";import{_ as H}from"./userCard.vue_vue_type_script_setup_true_lang-DoQDuyKd.js";import{_ as J}from"./image.vue_vue_type_script_setup_true_lang-B7z4yO3x.js";import{d as q,r as n,i as A,c as u,a as s,b as t,F as k,j as h,w as d,n as y,u as C,e as K,o as r,k as $,t as j,l as O}from"./index-ChGP31iN.js";/* empty css              */import"./index-C6W4ofw4.js";import"./use-route-C2rTivEH.js";import"./use-id-BPTniptz.js";import"./on-popup-reopen-DEDEfK--.js";import"./use-scope-id-D1EJU5AZ.js";const Q={class:"w-full h-screen bg-linear-to-b from-[#6dd5fa] to-[#ffffff] overflow-auto"},Z={class:"text-[12px] bg-white rounded-sm p-1 m-1 flex justify-between"},ee=["onClick"],te={class:"bg-white p-1 m-1 rounded"},oe={class:"text-[12px] border-b p-1 border-gray-300 flex justify-between items-center"},se={class:"p-0.5 rounded-[10px] border border-green-500 inline-block"},ne={class:"box text-[12px] m-1"},le={class:"flex items-center w-full"},ae={class:"flex-1 flex justify-end"},ie={class:"flex justify-end items-center"},re={class:"w-full truncate"},ze=q({__name:"index",setup(me){const m=n(!1),i=n(""),x=K(),g=n(""),p=n("good-job-o"),z=n(),f=n(0),v=n(0);A(()=>{const l=document.documentElement.clientWidth;f.value=`calc(${l}px - ${7/4}rem)`,v.value=`calc(80% - ${7/4}rem)`});const b=n(0),V=l=>{b.value&&clearTimeout(b.value),l.preventDefault(),b.value=setTimeout(()=>{const e=l.touches[0];e.clientX<0||e.clientX>window.innerWidth-100||e.clientY<0||e.clientY>window.innerHeight-100||(f.value=e.clientX,v.value=e.clientY+"px")},10)},T=()=>{m.value=!0},I=l=>{i.value=l},c=n(""),_=n([]),B=()=>{try{navigator.clipboard.writeText("这是最好的世界，也是最坏的世界").then(()=>{Y("复制成功")})}catch{E("复制失败")}},F=n([{title:"班级相册",icon:"card",path:"/classPhoto"},{title:"课程表",icon:"printer",path:"/timeTable"},{title:"话题广场",icon:"comment",path:"/topic"},{title:"食谱",icon:"new",path:"/topicDetail"}]);return(l,e)=>{const a=R,D=W,S=L,M=G,N=X,P=U;return r(),u("div",Q,[s(H),t("div",Z,[(r(!0),u(k,null,h(F.value,o=>(r(),u("div",{class:"flex flex-col items-center",key:o.title,onClick:w=>C(x).push({path:o.path})},[s(a,{size:"0.7rem",class:"mb-1",name:o.icon},null,8,["name"]),t("span",null,j(o.title),1)],8,ee))),128))]),t("div",te,[t("div",oe,[e[10]||(e[10]=t("h1",{class:"font-black text-[16px]"},"班级圈",-1)),s(D,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=o=>g.value=o)},{default:d(()=>[...e[8]||(e[8]=[$("仅看老师",-1)])]),_:1},8,["modelValue"]),t("div",se,[s(a,{name:"search",size:"0.5rem",class:"align-middle",color:"green"}),e[9]||(e[9]=t("span",{class:"text-green-500 align-middle"},"搜索",-1))])]),t("div",ne,[t("div",le,[s(a,{name:"user",class:"mr-1",size:"1rem",color:"green"}),e[11]||(e[11]=t("div",{class:"flex flex-col"},[t("span",{class:"font-black mb-1"},"李军晓"),t("span",{class:"text-gray-500"},"9月12日 10:00")],-1)),t("div",ae,[s(a,{name:"ellipsis",size:"0.5rem"})])]),e[13]||(e[13]=t("div",{class:"my-1"}," 新型布置作业的方式 ",-1)),t("div",null,[s(J,{onClick:e[1]||(e[1]=o=>I(`/${l.__IMG__}/image/黑板.jpg`)),src:`/${l.__IMG__}/image/黑板.jpg `,class:"rounded"},null,8,["src"])]),t("div",ie,[s(a,{onClick:B,class:"ml-1",name:"share-o",size:"0.5rem"}),s(a,{class:"ml-1",name:p.value,onClick:e[2]||(e[2]=o=>p.value=p.value=="good-job-o"?"good-job":"good-job-o"),size:"0.5rem"},null,8,["name"]),s(a,{onClick:T,class:"ml-1",name:"comment-o",size:"0.5rem"}),s(N,{position:"bottom",show:m.value,"onUpdate:show":e[5]||(e[5]=o=>m.value=o),style:{padding:"10px",backgroundColor:"#eeeeee"},class:"flex justify-center items-center"},{default:d(()=>[s(S,{class:"w-[70%]!",modelValue:c.value,"onUpdate:modelValue":e[3]||(e[3]=o=>c.value=o),label:"评论",placeholder:"请输入评论内容"},null,8,["modelValue"]),s(M,{onClick:e[4]||(e[4]=()=>{m.value=!1,_.value.push({comment:c.value,time:new Date().toLocaleString(),user:"匿名用户"}),c.value=""})},{default:d(()=>[...e[12]||(e[12]=[$("发表",-1)])]),_:1})]),_:1},8,["show"])]),t("div",null,[(r(!0),u(k,null,h(_.value,(o,w)=>(r(),O(P,{key:w,class:"truncate flex-col"},{title:d(()=>[t("div",re,j(`${o.user}: ${o.comment}`),1)]),_:2},1024))),128))]),e[14]||(e[14]=t("div",{class:"text-center"},[t("span",null,"已经到底了")],-1))])]),t("div",{onClick:e[6]||(e[6]=o=>C(x).push({path:"/publish"})),onTouchmove:V,ref_key:"navRef",ref:z,style:y({left:f.value+"px",top:v.value}),class:"fixed z-4 flex-col flex justify-center items-center w-7 h-7 rounded-[50%] bg-green-400 shadow-lg shadow-cyan-500"},[s(a,{name:"guide-o",size:"0.7rem",color:"white"}),e[15]||(e[15]=t("span",{class:"text-[12px] text-white"},"发动态",-1))],36),t("div",{onClick:e[7]||(e[7]=o=>i.value=""),class:"fixed top-0 z-[-1] left-0 h-screen w-screen bg-fixed bg-center bg-no-repeat bg-contain",style:y({backgroundImage:i.value?`url(${i.value})`:"url('')",zIndex:i.value?1:-1,backgroundColor:i.value?"black":"transparent"})},null,4)])}}});export{ze as default};
//# sourceMappingURL=index-DB49a0s5.js.map
