import{I as j}from"./index-D_D45AGk.js";import{O as E}from"./index-Cg9P4DiM.js";import{L as M}from"./index-7fZ51QCR.js";import{C as P}from"./index-DY8xNOIs.js";import{C as F}from"./index-BV4Cb7xO.js";import{s as p,d as G,r as o,i as N,p as O,c as d,a as i,b as s,F as g,j as k,u as m,w,o as l,v as y,t as q,l as D,z as S}from"./index-ChGP31iN.js";import{_ as V}from"./head.vue_vue_type_script_setup_true_lang-CVHflgXU.js";import{_ as A}from"./image.vue_vue_type_script_setup_true_lang-B7z4yO3x.js";import"./use-scope-id-D1EJU5AZ.js";import"./use-route-C2rTivEH.js";async function H(r,n){return await p(r,n)}async function J(r,n){return await p(r,n)}async function K(r,n){return await p(r,n)}const Q={class:"flex flex-col h-screen w-full"},R={class:"bg-gray-200 flex-1 flex flex-col"},T={class:"navList flex h-3.5 bg-white lg:h-auto"},U=["onClick"],W={class:"card p-1 bg-white rounded-sm h-4 m-2 flex justify-between"},X={class:"flex items-center"},Y={key:0,class:"flex-1 justify-center items-center flex flex-col text-gray-500"},Z={key:1},ee={class:"w-[3rem] h-[3rem] rounded bg-white flex justify-center items-center"},fe=G({__name:"index",setup(r){const n=o(!1),I=o([{title:"未开始",id:1},{title:"进行中",id:2},{title:"已结束",id:3}]),c=o([]),u=o([]),_=o([]),v=o([]),h=async()=>{await H("/api/checkInBefore","get").then(e=>{e.status==200&&(u.value=e.data.data)}),await J("/api/checkInProgress","get").then(e=>{e.status==200&&(_.value=e.data.data)}),await K("/api/checkInEnd","get").then(e=>{e.status==200&&(v.value=e.data.data)})};N(async()=>{await h(),c.value=u.value});const f=o(1);O(f,e=>{e==1?c.value=u.value:e==2?c.value=_.value:c.value=v.value});const C=e=>{f.value=e},b=async()=>{n.value=!0,await h(),n.value=!1};return(e,a)=>{const x=j,$=F,B=P,z=M,L=E;return l(),d("div",Q,[i(V,{title:"打卡列表"}),s("main",R,[s("div",T,[(l(!0),d(g,null,k(m(I),t=>(l(),d("div",{class:"box px-3 relative flex items-center",key:t.id,onClick:te=>C(t.id)},[s("span",{class:y([{"text-green-500":m(f)==t.id},"lg:py-[10px] text-[0.25rem] lg:text-[20px]"])},q(t.title),3),s("div",{class:y([{hidden:m(f)!==t.id},"border-2 w-2 border-green-500 absolute bottom-0 left-[calc(50%-0.25rem)]"])},null,2)],8,U))),128))]),s("div",W,[s("div",X,[i(x,{name:"warning-o",size:"0.5rem",class:"mr-1"}),a[2]||(a[2]=s("span",{class:"text-[0.2rem]"},"没有收到老师的打卡？",-1))]),s("div",{class:"flex items-center",onClick:b},[i(x,{name:"replay",size:"0.5rem",color:"green",class:"mr-1"}),a[3]||(a[3]=s("span",{class:"text-[0.2rem] text-green-500"},"点击刷新",-1))])]),m(c).length==0?(l(),d("div",Y,[i(A,{src:`/${e.__IMG__}/image/空盒子.png`},null,8,["src"]),a[4]||(a[4]=s("span",{class:"text-[12px]"},"暂无进行中的打卡",-1))])):(l(),d("div",Z,[i(B,{inset:""},{default:w(()=>[(l(!0),d(g,null,k(m(c),t=>(l(),D($,{key:t.id,title:t.title,value:t.status,label:`${t.start}~${t.end}`},null,8,["title","value","label"]))),128))]),_:1})])),i(L,{show:m(n),onClick:a[1]||(a[1]=t=>n.value=!1)},{default:w(()=>[s("div",{class:"wrapper",onClick:a[0]||(a[0]=S(()=>{},["stop"]))},[s("div",ee,[i(z,{size:"2rem",type:"spinner",color:"#1989fa"})])])]),_:1},8,["show"])])])}}});export{fe as default};
//# sourceMappingURL=index-a5YNu0vj.js.map
